cat > .gitignore << 'EOF'
#File types to ignore
.DS_Store
**/.DS_Store
*.log
*.smcl
*~.do
*.gph
*.bak
*.tmp

# Additional macOS system files
._*
.DocumentRevisions-V100
.fseventsd
.Spotlight-V100
.TemporaryItems
.Trashes
.VolumeIcon.icns
.com.apple.timemachine.donotpresent

# Windows system files (if collaborating with Windows users)
Thumbs.db
Desktop.ini
ehthumbs.db

# Stata-specific temporary files
*.dta~
*.do~
*.ado~

# Simulated data - CORRECTED for v2.0 structure
# Target the actual paths in your repository
v2.0/analyses/*/data/simulated/*.dta
v2.0/analyses/*/data/simulated/*.csv
v2.0/analyses/*/data/simulated/*.txt
v2.0/analyses/*/data/simulated/*.log
v2.0/analyses/*/data/simulated/bootstrap/
# Keep .gitkeep files (they won't be ignored by the above patterns)
EOF

# 2. Test the patterns
git check-ignore v2.0/analyses/vrd_l1_post/data/simulated/test.dta
# Should return the file path if ignored correctly

# 3. Add and commit
git add .gitignore
git commit -m "Fix: Update gitignore patterns for v2.0 repository structure"
